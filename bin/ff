#!/bin/bash

# fast find: search by file name substring from current directory
# GNU find required

show_help() {
    echo 'Usage: ff [OPTIONS]

OPTIONS:
  -n, --noic            do not ignore case
  -h, --help            show this help
'
    exit 0
}

IGNORE_CASE=yes

# A POSIX variable
OPTIND=1         # Reset in case getopts has been used previously in the shell.

for i in "$@"
do
    case $i in
        -h|--help)
        show_help
        shift # past argument=value
        ;;

        -n|--noic)
        IGNORE_CASE=no
        shift # past argument=value
        ;;

        *)
                # unknown option
        ;;
    esac
done

if [ "$IGNORE_CASE" = "yes" ]; then
    find . -iname "*$1*" -not -wholename '*.git/*' -not -wholename '*.svn/*' -not -wholename '*.hg/*'
else
    find . -name "*$1*" -not -wholename '*.git/*' -not -wholename '*.svn/*' -not -wholename '*.hg/*'
fi

